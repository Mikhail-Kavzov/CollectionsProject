function updateUserList(n){$.ajax({url:n,method:"post",dataType:"json",success:function(n){n!==""&&(userList=n)}})}function appendDropdown(n,t){n.length!==0&&($.each(n,function(n,t){let i=$("<li><\/li>").text(t);$("#dropdown").append(i)}),$("#dropdown").show(),$("#dropdown").children().each(function(){$(this).click(()=>{$(t).val($(this).text()),$("#dropdown").children().remove()})}))}function keyUpDropdown(n){$("#dropdown").children().remove();let t=$(n.target),i=$(t).val();if(i!==""&&i!=="#"){$("#dropdown").detach().appendTo(t.parent().parent());let r=[];$.each(userList,function(n,t){t.startsWith(i)&&r.push(t)});appendDropdown(r,t)}}let userList=[],timeInterval=2e4;const urlController="/Tag/GetAllTags/";updateUserList(urlController);setInterval(updateUserList,timeInterval,urlController);$(".tag-container").each(function(){$(this).keyup(keyUpDropdown)});let prevTarget=$(".tag-input").attr("id");$(document).mouseup(function(n){let t=$(n.target).attr("id");n.target.classList.contains("tag-input")&&prevTarget===t?$("#dropdown").show():($("#dropdown").hide(),prevTarget=t)});let i=1;$("#btn-add-tag").click(function(){$.post("/Item/AddTagToItem/",{i:i},function(n){$("#table-body").append(n);$(".tag-container").last().keyup(keyUpDropdown)});i++});$("#btn-delete-tag").click(function(){i!==1&&(i--,$("#dropdown").detach().appendTo("#table-body"),$(".t-row").last().remove())});