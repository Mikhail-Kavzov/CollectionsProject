function loadItems(n,t){pageFlag||_inCallback||(_inCallback=!0,page++,$.ajax({type:"GET",url:n+page,success:function(n){n!=""?$(t).append(n):pageFlag=!0;_inCallback=!1}}))}function deleteCollectionAjax(n,t){$.ajax({type:"DELETE",url:n,data:{id:t}})}function deleteCollection(n){let t=$(n.target).closest(".collection-item");deleteCollectionAjax("/Collection/Delete/",t.attr("id"));t.remove()}function updateCollection(n){let i=$("#update_col_cont");i.show();let t=$(n.target).closest(".collection-item");updateItem=t;$("#Id").val(t.attr("id"));let r=t.find(".text-name").first().text(),u=t.find(".collection-description").first().html(),f=turndownService.turndown(u),e=t.find(".collection-theme").first().text(),o=t.find(".collection-photo").first().attr("src");$("#Name").val(r);$("#Description").val(f);$("#selector-type").val(mapEnum.get(e));$("#image-photo").attr("src",o)}function hideForm(){$("#update_col_cont").hide()}function SuccessUpdate(n){hideForm();updateItem.replaceWith(n)}let page=-1,_inCallback=!1,pageFlag=!1;let updateItem=null;const turndownService=new TurndownService,mapEnum=new Map([["Book",0],["Sign",1],["Silverware",2],]);$("#update-hide").click(hideForm);loadItems("/Collection/CollectionPage/","#collection-list");$(window).scroll(function(){Math.trunc($(window).scrollTop())===$(document).height()-$(window).height()&&loadItems("/Collection/CollectionPage/","#collection-list")});$("#input__file").change(function(){this.files&&$("#image-photo").attr("src",URL.createObjectURL(this.files[0]))});