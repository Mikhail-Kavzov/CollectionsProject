function loadItems(n,t,i){$.post(n,{Page:i},function(n){n!==""&&($(t).children().remove(),$(t).append(n))})}function deleteItem(n,t,i){$.ajax({type:"DELETE",url:n,data:{id:i},dataType:"text",success:function(n,i){i==="success"&&$(t).remove()}})}function OnSearchSuccess(n){RemoveSearchList();$("#search-list").append(n)}function RemoveSearchList(){$("#search-list").children().remove()}function SelectedCheckbox(){var n=[];return $(".selected").each(function(){n.push(this.id)}),n}function updateStatus(n){$(".selected").each(function(){$(this).children("td").last().prev().text(n)})}function updateRole(n){$(".selected").each(function(){$(this).children("td").last().text(n)})}function queryPutToolbar(n,t,i){let r=SelectedCheckbox();$.ajax({url:t,method:"put",dataType:"json",data:{id:r},success:function(t){t===""?i(n):window.location.href=t.redirectToUrl}})}function queryDeleteToolbar(n){let t=SelectedCheckbox();$.ajax({url:n,method:"delete",dataType:"json",data:{id:t},success:function(n){n===""?$(".selected").remove():window.location.href=n.redirectToUrl}})}(function(n){n.fn.checkboxTable=function(){target=this;n(target).on("click","thead :checkbox",function(){var t=this;n(this).parents("table").find("tbody :checkbox").each(function(){n(t).is(":checked")?(n(this).prop("checked",!0),n(this).parents("tr").addClass("selected")):(n(this).prop("checked",!1),n(this).parents("tr").removeClass("selected"))})});n(target).on("click","tbody :checkbox",function(){var t=n(this).parents("table");n(this).is(":checked")?(n(this).parents("tr").addClass("selected"),n(t).find("thead :checkbox").prop("checked",!0)):(n(this).parents("tr").removeClass("selected"),n(t).find("tbody :checkbox:checked").length==0&&n(t).find("thead :checkbox").prop("checked",!1))});n(target).on("click","tbody tr",function(t){(t.target.tagName=="TH"||t.target.tagName=="TD")&&n(this).find(":checkbox").trigger("click")})}})(jQuery);$(".table").checkboxTable();let pageCount=Number($("#max-page-value").val()),minPage=1,currentPage=minPage;const LabelWidth=37;let offset=0;const overflowPages=6,isOverflow=pageCount>overflowPages;let maxPage=overflowPages;if(pageCount>0){loadItems("/Admin/UserPage/","#tableBody",currentPage-1);$("#href-left").click(i);$("#href-right").click(r);let t=$(".p-radio"),n=document.getElementById("pagination-wrapper");t.each(function(){$(this).click(function(){let n=Number($(this).val());n!==currentPage&&(currentPage=n,loadItems("/Admin/UserPage/","#tableBody",currentPage-1))})});function i(){currentPage!==1&&(currentPage===minPage&&isOverflow&&(--minPage,--maxPage,offset+=LabelWidth,n.style.left=offset+"px"),currentPage--,$(".p-radio").eq(currentPage-1).prop("checked",!0),loadItems("/Admin/UserPage/","#tableBody",currentPage-1))}function r(){currentPage!==pageCount&&(currentPage===maxPage&&isOverflow&&(++minPage,++maxPage,offset-=LabelWidth,n.style.left=offset+"px"),currentPage++,$(".p-radio").eq(currentPage-1).prop("checked",!0),loadItems("/Admin/UserPage/","#tableBody",currentPage-1))}}$("#search-input").on("input",function(){$(this).val()===""&&RemoveSearchList()});$("#BlockBtn").click(()=>queryPutToolbar("Blocked","/Admin/BlockUsers/",updateStatus));$("#UnblockBtn").click(()=>queryPutToolbar("Active","/Admin/UnBlockUsers/",updateStatus));$("#AddAdminBtn").click(()=>queryPutToolbar("Admin","/Admin/AddAdminRole/",updateRole));$("#DeleteAdminBtn").click(()=>queryPutToolbar("User","/Admin/RemoveAdminRole/",updateRole));$("#DeleteBtn").click(()=>queryDeleteToolbar("/Admin/DeleteUsers/"));